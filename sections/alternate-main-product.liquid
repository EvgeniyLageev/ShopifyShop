<div class="product main__product">
  <section class="product__product-card">
    <div class="product__info">
      <h1 class="product__name heading heading--lg">{{ product.title }}</h1>
      <p class="product__code">{{ product.price | money_with_currency }}</p>
      <p class="product__tax">Tax included</p>

      {%- form 'product', product, class: 'product__form form', aria-lable: 'order details' -%}

        {%- for option in product.options_with_values -%}
        <fieldset class="fieldset product__fieldset product__fieldset--{{ option.name | downcase }}">
          <legend class="product__input-title">{{ option.name }} {% if option.name == 'Color' %}- <span></span>{% endif %}</legend>
          <div class="product__input-container">
          {%- for value in option.values -%}
            {%- case option.name -%}
              {%- when 'Size' -%}
                {%- render 'alternate-radio-input--size', option: option, value: value -%}
              {%- when 'Color' -%}
                {%- render 'alternate-radio-input--color', option: option, value: value -%}
              {%- endcase -%}
          {%- endfor -%}
         </div>

        </fieldset>
      {%- endfor -%}

        <fieldset class="fieldset product__fieldset product__fieldset--last">
          <legend class="product__input-title product__input-title--quantity">
            <label for="quantity">Quantity</label>
          </legend>

          <div class="product__quantity">
            <input
              class="product__quantity-input"
              type="number"
              id="quantity"
              value="1"
              min="1"
              max="999"
              name="quantity"
            >

            <button class="product__quantity-button product__quantity-button--decrease" type="button">
              <span class="visually-hidden">Decrease quantity</span>
            </button>

            <button class="product__quantity-button product__quantity-button--increase" type="button">
              <span class="visually-hidden">Increase quantity</span>
            </button>
          </div>
        </fieldset>

        <div class="product__button-container">
          <button class="button button--add" type="submit" name="type" value="add">
            <span>add <span class="visually-hidden">White unisex t-shirt</span> to cart</span>
          </button>
          <span
            class="form__error"
            aria-live="polite"
            role="alert"
          >
          </span>
          <button class="button button--buy" type="submit" name="type" value="buy">
            <span>buy <span class="visually-hidden">White unisex t-shirt</span> it now</span>
          </button>
        </div>
      {%- endform -%}

      {% if product.content %}
        <p class="product__description product__description--last">{{ product.description }}</p>
      {% endif %}
    </div>

    <img
      class="product__image"
      src="{{ product.featured_image | image_url }}"
      width="473"
      height="707"
      alt=""
      role="presentation"
      loading="lazy"
    >
  </section>

  {%- assign accordions = section.blocks | where: 'type', 'accordeon' -%}
  {%- if accordions.size > 0 -%}
    <section
      class="product__additional accordion"
      data-section-type="alternate-main-product"
      data-section-id="{{ section.id }}"
    >
      {% for block in accordions %}
        <div class="product__additional-topic" {{ block.shopify_attributes }}>
          <h2 class="heading" id="productInfo1">
            <button
              type="button"
              aria-controls="description--{{ block.id }}"
              class="product__additional-title accordion__button"
              aria-expanded="false"
              id="id--{{ block.id }}"
            >
              {{ block.settings.title }}
            </button>
          </h2>
          <div
            class="product__additional-text"
            id="description--{{ block.id }}"
            aria-labelledby="id--{{ block.id }}"
            hidden
          >
            {{ block.settings.text }}
          </div>
        </div>
      {% endfor %}
    </section>
  {%- endif -%}
</div>

{% schema %}
{
  "name": "alternate-main-product",
  "templates": ["product"],
  "limit": 1,
  "settings": [],
  "blocks": [
    {
      "name": "Accordeon",
      "type": "accordeon",
      "settings": [
        {
          "type": "text",
          "id": "title",
          "label": "Title",
          "default": "Sizing & Fit"
        },
        {
          "type": "richtext",
          "id": "text",
          "label": "text"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Product page",
      "settings": {},
      "blocks": [
        {
          "type": "accordeon"
        }
      ]
    }
  ]
}
{% endschema %}
