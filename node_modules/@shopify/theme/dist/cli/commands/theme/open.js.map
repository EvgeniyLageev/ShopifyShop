{"version":3,"file":"open.js","sourceRoot":"","sources":["../../../../src/cli/commands/theme/open.ts"],"names":[],"mappings":"AAAA,OAAO,EAAC,aAAa,EAAC,MAAM,gCAAgC,CAAA;AAC5D,OAAO,YAAY,MAAM,kCAAkC,CAAA;AAC3D,OAAO,EAAC,UAAU,EAAC,MAAM,gBAAgB,CAAA;AACzC,OAAO,EAAC,KAAK,EAAC,MAAM,aAAa,CAAA;AACjC,OAAO,EAAC,GAAG,EAAE,OAAO,EAAC,MAAM,kBAAkB,CAAA;AAC7C,OAAO,EAAC,QAAQ,EAAC,MAAM,4BAA4B,CAAA;AAEnD,MAAM,CAAC,OAAO,OAAO,IAAK,SAAQ,YAAY;IA+B5C,KAAK,CAAC,GAAG;QACP,MAAM,EAAC,KAAK,EAAC,GAAG,MAAM,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAA;QACtC,MAAM,WAAW,GAAG,IAAI,CAAC,gBAAgB,CAAC,KAAK,EAAE,EAAC,YAAY,EAAE,IAAI,CAAC,SAAS,EAAC,CAAC,CAAA;QAChF,MAAM,OAAO,GAAG,CAAC,OAAO,EAAE,MAAM,EAAE,GAAG,WAAW,CAAC,CAAA;QAEjD,MAAM,KAAK,GAAG,MAAM,aAAa,CAAC,KAAK,CAAC,CAAA;QACxC,MAAM,YAAY,GAAG,MAAM,OAAO,CAAC,yBAAyB,CAAC,KAAK,EAAE,KAAK,CAAC,QAAQ,CAAC,CAAA;QACnF,MAAM,QAAQ,CAAC,OAAO,EAAE,EAAC,YAAY,EAAC,CAAC,CAAA;IACzC,CAAC;;AAtCM,gBAAW,GAAG,yCAAyC,CAAA;AAEvD,UAAK,GAAG;IACb,GAAG,GAAG,CAAC,WAAW;IAClB,QAAQ,EAAE,UAAU,CAAC,QAAQ;IAC7B,WAAW,EAAE,KAAK,CAAC,OAAO,CAAC;QACzB,IAAI,EAAE,GAAG;QACT,WAAW,EAAE,gCAAgC;QAC7C,GAAG,EAAE,0BAA0B;KAChC,CAAC;IACF,MAAM,EAAE,KAAK,CAAC,OAAO,CAAC;QACpB,IAAI,EAAE,GAAG;QACT,WAAW,EAAE,+DAA+D;QAC5E,GAAG,EAAE,qBAAqB;KAC3B,CAAC;IACF,IAAI,EAAE,KAAK,CAAC,OAAO,CAAC;QAClB,IAAI,EAAE,GAAG;QACT,WAAW,EAAE,+CAA+C;QAC5D,GAAG,EAAE,mBAAmB;KACzB,CAAC;IACF,KAAK,EAAE,KAAK,CAAC,MAAM,CAAC;QAClB,IAAI,EAAE,GAAG;QACT,WAAW,EAAE,uCAAuC;QACpD,GAAG,EAAE,uBAAuB;KAC7B,CAAC;IACF,KAAK,EAAE,UAAU,CAAC,KAAK;CACxB,CAAA;AAEM,cAAS,GAAG,CAAC,aAAa,EAAE,QAAQ,EAAE,MAAM,EAAE,OAAO,CAAC,CAAA","sourcesContent":["import {getThemeStore} from '../../utilities/theme-store.js'\nimport ThemeCommand from '../../utilities/theme-command.js'\nimport {themeFlags} from '../../flags.js'\nimport {Flags} from '@oclif/core'\nimport {cli, session} from '@shopify/cli-kit'\nimport {execCLI2} from '@shopify/cli-kit/node/ruby'\n\nexport default class Open extends ThemeCommand {\n  static description = 'Opens the preview of your remote theme.'\n\n  static flags = {\n    ...cli.globalFlags,\n    password: themeFlags.password,\n    development: Flags.boolean({\n      char: 'd',\n      description: 'Delete your development theme.',\n      env: 'SHOPIFY_FLAG_DEVELOPMENT',\n    }),\n    editor: Flags.boolean({\n      char: 'e',\n      description: 'Open the theme editor for the specified theme in the browser.',\n      env: 'SHOPIFY_FLAG_EDITOR',\n    }),\n    live: Flags.boolean({\n      char: 'l',\n      description: 'Pull theme files from your remote live theme.',\n      env: 'SHOPIFY_FLAG_LIVE',\n    }),\n    theme: Flags.string({\n      char: 't',\n      description: 'Theme ID or name of the remote theme.',\n      env: 'SHOPIFY_FLAG_THEME_ID',\n    }),\n    store: themeFlags.store,\n  }\n\n  static cli2Flags = ['development', 'editor', 'live', 'theme']\n\n  async run(): Promise<void> {\n    const {flags} = await this.parse(Open)\n    const flagsToPass = this.passThroughFlags(flags, {allowedFlags: Open.cli2Flags})\n    const command = ['theme', 'open', ...flagsToPass]\n\n    const store = await getThemeStore(flags)\n    const adminSession = await session.ensureAuthenticatedThemes(store, flags.password)\n    await execCLI2(command, {adminSession})\n  }\n}\n"]}