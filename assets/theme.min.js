(()=>{"use strict";(()=>{var t="data-section-id";function e(e,n){this.container=function(e){if(!(e instanceof Element))throw new TypeError("Theme Sections: Attempted to load section. The section container provided is not a DOM element.");if(null===e.getAttribute(t))throw new Error("Theme Sections: The section container provided does not have an id assigned to the "+t+" attribute.");return e}(e),this.id=e.getAttribute(t),this.extensions=[],Object.assign(this,function(t){if(void 0!==t&&"object"!=typeof t||null===t)throw new TypeError("Theme Sections: The properties object provided is not a valid");return t}(n)),this.onLoad()}e.prototype={onLoad:Function.prototype,onUnload:Function.prototype,onSelect:Function.prototype,onDeselect:Function.prototype,onBlockSelect:Function.prototype,onBlockDeselect:Function.prototype,extend:function(t){this.extensions.push(t);var e=Object.assign({},t);delete e.init,Object.assign(this,e),"function"==typeof t.init&&t.init.apply(this)}},"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var o=arguments[n];if(null!=o)for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(e[i]=o[i])}return e},writable:!0,configurable:!0});var n="data-section-type",o="data-section-id";window.Shopify=window.Shopify||{},window.Shopify.theme=window.Shopify.theme||{},window.Shopify.theme.sections=window.Shopify.theme.sections||{};var i=window.Shopify.theme.sections.registered=window.Shopify.theme.sections.registered||{},r=window.Shopify.theme.sections.instances=window.Shopify.theme.sections.instances||[];function s(t,n){if("string"!=typeof t)throw new TypeError("Theme Sections: The first argument for .register must be a string that specifies the type of the section being registered");if(void 0!==i[t])throw new Error('Theme Sections: A section of type "'+t+'" has already been registered. You cannot register the same section type twice');function o(t){e.call(this,t,n)}return o.constructor=e,o.prototype=Object.create(e.prototype),o.prototype.type=t,i[t]=o}function a(t,e){t=d(t),void 0===e&&(e=document.querySelectorAll("["+n+"]")),e=p(e),t.forEach((function(t){var o=i[t];void 0!==o&&(e=e.filter((function(e){return!(c(e).length>0||null===e.getAttribute(n)||e.getAttribute(n)===t&&(r.push(new o(e)),1))})))}))}function c(t){var e=[];if(NodeList.prototype.isPrototypeOf(t)||Array.isArray(t))var n=t[0];return t instanceof Element||n instanceof Element?p(t).forEach((function(t){e=e.concat(r.filter((function(e){return e.container===t})))})):"string"!=typeof t&&"string"!=typeof n||d(t).forEach((function(t){e=e.concat(r.filter((function(e){return e.type===t})))})),e}function u(t){for(var e,n=0;n<r.length;n++)if(r[n].id===t){e=r[n];break}return e}function d(t){return"*"===t?t=Object.keys(i):"string"==typeof t?t=[t]:t.constructor===e?t=[t.prototype.type]:Array.isArray(t)&&t[0].constructor===e&&(t=t.map((function(t){return t.prototype.type}))),t.map((function(t){return t.toLowerCase()}))}function p(t){return NodeList.prototype.isPrototypeOf(t)&&t.length>0?t=Array.prototype.slice.call(t):NodeList.prototype.isPrototypeOf(t)&&0===t.length||null===t?t=[]:!Array.isArray(t)&&t instanceof Element&&(t=[t]),t}function l(){this.entries=[]}function h(t){if("object"!=typeof t)throw new TypeError(t+" is not an object.");if(0===Object.keys(t).length&&t.constructor===Object)throw new Error(t+" is empty.")}window.Shopify.designMode&&(document.addEventListener("shopify:section:load",(function(t){var e=t.detail.sectionId,i=t.target.querySelector("["+o+'="'+e+'"]');null!==i&&a(i.getAttribute(n),i)})),document.addEventListener("shopify:section:unload",(function(t){var e=t.detail.sectionId,n=t.target.querySelector("["+o+'="'+e+'"]');"object"==typeof c(n)[0]&&c(n).forEach((function(t){var e=r.map((function(t){return t.id})).indexOf(t.id);r.splice(e,1),t.onUnload()}))})),document.addEventListener("shopify:section:select",(function(t){var e=u(t.detail.sectionId);"object"==typeof e&&e.onSelect(t)})),document.addEventListener("shopify:section:deselect",(function(t){var e=u(t.detail.sectionId);"object"==typeof e&&e.onDeselect(t)})),document.addEventListener("shopify:block:select",(function(t){var e=u(t.detail.sectionId);"object"==typeof e&&e.onBlockSelect(t)})),document.addEventListener("shopify:block:deselect",(function(t){var e=u(t.detail.sectionId);"object"==typeof e&&e.onBlockDeselect(t)}))),l.prototype.add=function(t,e,n){this.entries.push({element:t,event:e,fn:n}),t.addEventListener(e,n)},l.prototype.removeAll=function(){this.entries=this.entries.filter((function(t){return t.element.removeEventListener(t.event,t.fn),!1}))};function f(t,e,n){this.element=t,this.product=function(t){if("object"!=typeof t)throw new TypeError(t+" is not an object.");if(void 0===t.variants[0].options)throw new TypeError("Product object is invalid. Make sure you use the product object that is output from {{ product | json }} or from the http://[your-product-url].js route");return t}(e),n=n||{},this._listeners=new l,this._listeners.add(this.element,"submit",this._onSubmit.bind(this,n)),this.optionInputs=this._initInputs('[name^="options"]',n.onOptionChange),this.quantityInputs=this._initInputs('[name="quantity"]',n.onQuantityChange),this.propertyInputs=this._initInputs('[name^="properties"]',n.onPropertyChange)}function y(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,"string");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}f.prototype.destroy=function(){this._listeners.removeAll()},f.prototype.options=function(){return t=this.optionInputs,e=function(t){return t.name=/(?:^(options\[))(.*?)(?:\])/.exec(t.name)[2],t},t.reduce((function(t,n){return(n.checked||"radio"!==n.type&&"checkbox"!==n.type)&&t.push(e({name:n.name,value:n.value})),t}),[]);var t,e},f.prototype.variant=function(){return function(t,e){h(t);var n=function(t,e){h(t),function(t){if(!Array.isArray(t))throw new TypeError(t+" is not an array.");if(0===t.length)return[];if(!t[0].hasOwnProperty("name"))throw new Error(t[0]+"does not contain name key.");if("string"!=typeof t[0].name)throw new TypeError("Invalid value type passed for name of option "+t[0].name+". Value should be string.")}(e);var n=[];return e.forEach((function(e){for(var o=0;o<t.options.length;o++)if(t.options[o].name.toLowerCase()===e.name.toLowerCase()){n[o]=e.value;break}})),n}(t,e);return function(t,e){return h(t),function(t){if(Array.isArray(t)&&"object"==typeof t[0])throw new Error(t+"is not a valid array of options.")}(e),t.variants.filter((function(t){return e.every((function(e,n){return t.options[n]===e}))}))[0]||null}(t,n)}(this.product,this.options())},f.prototype.properties=function(){var t,e,n=(t=this.propertyInputs,e=function(t){return/(?:^(properties\[))(.*?)(?:\])/.exec(t)[2]},t.reduce((function(t,n){return(n.checked||"radio"!==n.type&&"checkbox"!==n.type)&&(t[e(n.name)]=n.value),t}),{}));return 0===Object.entries(n).length?null:n},f.prototype.quantity=function(){return this.quantityInputs[0]?Number.parseInt(this.quantityInputs[0].value,10):1},f.prototype._setIdInputValue=function(t){var e=this.element.querySelector('[name="id"]');e||((e=document.createElement("input")).type="hidden",e.name="id",this.element.appendChild(e)),e.value=t.toString()},f.prototype._onSubmit=function(t,e){e.dataset=this._getProductFormEventData(),e.dataset.variant&&this._setIdInputValue(e.dataset.variant.id),t.onFormSubmit&&t.onFormSubmit(e)},f.prototype._onFormEvent=function(t){return void 0===t?Function.prototype:function(e){e.dataset=this._getProductFormEventData(),t(e)}.bind(this)},f.prototype._initInputs=function(t,e){return Array.prototype.slice.call(this.element.querySelectorAll(t)).map(function(t){return this._listeners.add(t,"change",this._onFormEvent(e)),t}.bind(this))},f.prototype._getProductFormEventData=function(){return{options:this.options(),variant:this.variant(),properties:this.properties(),quantity:this.quantity()}};class m{constructor(t){this.button=t,this.id=t.getAttribute("id").split("--").pop(),this.description=document.getElementById(`description--${this.id}`),this.button.addEventListener("click",this.toggle.bind(this))}expand(){this.button.setAttribute("aria-expanded","true"),this.description.removeAttribute("hidden")}collapse(){this.button.setAttribute("aria-expanded","false"),this.description.setAttribute("hidden","")}destroy(){this.button.removeEventListener("click",this.toggle.bind(this))}toggle(){"true"===this.button.getAttribute("aria-expanded")?this.collapse():this.expand()}}const v=document.querySelector(".product__form"),b=document.querySelector(".form__error"),w=document.querySelector(".product__input-title--color");class g{constructor(t){y(this,"destroy",(()=>{this.input.removeEventListener("input",this.handle),this.buttonDecrease.removeEventListener("click",this.decrease),this.buttonIncrease.removeEventListener("click",this.increase)})),y(this,"decrease",(()=>{b.innerHTML="";const t=this.getValue();t>this.input.min&&this.setValue(t-1)})),y(this,"increase",(()=>{b.innerHTML="";const t=this.getValue();t<this.input.max&&this.setValue(t+1)})),y(this,"handle",(()=>{b.innerHTML="";const t=this.getValue();t<this.input.min?this.setValue(1):t>this.input.max&&this.setValue(this.input.max)})),y(this,"getValue",(()=>Number(this.input.value))),y(this,"setValue",(t=>{this.input.value=t})),this.fieldset=t,this.input=this.fieldset.querySelector(".product__quantity-input"),this.buttonDecrease=this.fieldset.querySelector(".product__quantity-button--decrease"),this.buttonIncrease=this.fieldset.querySelector(".product__quantity-button--increase"),this.input.addEventListener("input",this.handle),this.buttonDecrease.addEventListener("click",this.decrease),this.buttonIncrease.addEventListener("click",this.increase)}}s("alternate-main-product",{accordions:{},productForm:null,quantityPicker:null,toggle(t){const e=t.target.querySelector(".accordion__button").getAttribute("aria-controls").split("--").pop();this.accordions[e].toggle()},onOptionChange(t){b.innerHTML="";const e=t.dataset.variant;if(!e)return;const n=function(t,e){return/variant=/.test(t)?t.replace(/(variant=)[^&]+/,"$1"+e):/\?/.test(t)?t.concat("&variant=").concat(e):t.concat("?variant=").concat(e)}(window.location.href,e.id);window.history.replaceState({path:n},"",n),document.querySelector(".product__code--number").innerHTML=function(t,e){"string"==typeof t&&(t=t.replace(".",""));let n="";const o=/\{\{\s*(\w+)\s*\}\}/,i="{{ amount_with_comma_separator }}";function r(t,e=2,n=",",o="."){if(isNaN(t)||null==t)return 0;const i=(t=(t/100).toFixed(e)).split(".");return i[0].replace(/(\d)(?=(\d\d\d)+(?!\d))/g,`$1${n}`)+(i[1]?o+i[1]:"")}switch(i.match(o)[1]){case"amount":n=r(t,2);break;case"amount_no_decimals":n=r(t,0);break;case"amount_with_comma_separator":n=r(t,2,".",",");break;case"amount_no_decimals_with_comma_separator":n=r(t,0,".",",")}return i.replace(o,n)}(e.price),e.available?document.querySelector(".button--add").disabled=!1:(document.querySelector(".button--add").disabled=!0,b.innerHTML="Temporarily unavailable"),t.dataset.options.forEach((t=>{"Color"===t.name&&(w.innerHTML=t.value)}))},onFormSubmit(t){t.preventDefault();const e=new FormData(t.target);e.append("sections","alternate-header"),fetch(`${Shopify.routes.root}cart/add.js`,{method:t.target.method,body:e,headers:{"X-Requested-With":"XMLHttpRequest"}}).then((t=>t.json())).then((t=>{if(!t.id){const e=`${t.message} (${t.status}): ${t.description}`;throw b.innerHTML=e,new Error(e)}{const e=new CustomEvent("cart:added",{detail:{updatedHeader:t.sections["alternate-header"]},bubles:!0});window.dispatchEvent(e)}})).catch((t=>{console.log(t)}))},onLoad(){document.querySelectorAll(".accordion__button").forEach((t=>{this.accordions[new m(t).id]=new m(t)}));const t=v.dataset.handle;fetch(`${Shopify.routes.root}products/${t}.js`).then((t=>t.json())).then((t=>{this.productForm=new f(v,t,{onOptionChange:this.onOptionChange,onFormSubmit:this.onFormSubmit})})).catch(console.error);const e=v.querySelector(".product__fieldset--quantity");this.quantityPicker=new g(e),v.querySelectorAll(".product__input-radio--color").forEach((t=>{t.checked&&(w.innerHTML=t.value)}))},onUnload(){for(const t of Object.values(this.accordions))t.destroy();this.productForm.destroy()},onBlockSelect(t){this.toggle(t)},onBlockDeselect(t){this.toggle(t)}}),document.addEventListener("DOMContentLoaded",(()=>{document.querySelectorAll(".accordion__button").forEach((t=>{new m(t)}))})),s("alternate-header",{handleCartUpdate(t){const e=(new DOMParser).parseFromString(t.detail.updatedHeader,"text/html"),n=document.querySelector(".main-menu__counter"),o=e.querySelector(".main-menu__counter"),i=document.querySelector("span[aria-live=polite][class=visually-hidden]"),r=o.textContent.match(/\d+/)[0];n.textContent=`Cart (${r})`,i.textContent=`Cart has ${r} item`},onLoad(){window.addEventListener("cart:added",this.handleCartUpdate)},onUnload(){window.removeEventListener("cart:added",this.handleCartUpdate)}}),document.addEventListener("DOMContentLoaded",(()=>a("*")))})()})();