(()=>{"use strict";(()=>{var t="data-section-id";function e(e,o){this.container=function(e){if(!(e instanceof Element))throw new TypeError("Theme Sections: Attempted to load section. The section container provided is not a DOM element.");if(null===e.getAttribute(t))throw new Error("Theme Sections: The section container provided does not have an id assigned to the "+t+" attribute.");return e}(e),this.id=e.getAttribute(t),this.extensions=[],Object.assign(this,function(t){if(void 0!==t&&"object"!=typeof t||null===t)throw new TypeError("Theme Sections: The properties object provided is not a valid");return t}(o)),this.onLoad()}e.prototype={onLoad:Function.prototype,onUnload:Function.prototype,onSelect:Function.prototype,onDeselect:Function.prototype,onBlockSelect:Function.prototype,onBlockDeselect:Function.prototype,extend:function(t){this.extensions.push(t);var e=Object.assign({},t);delete e.init,Object.assign(this,e),"function"==typeof t.init&&t.init.apply(this)}},"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),o=1;o<arguments.length;o++){var n=arguments[o];if(null!=n)for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},writable:!0,configurable:!0});var o="data-section-type",n="data-section-id";window.Shopify=window.Shopify||{},window.Shopify.theme=window.Shopify.theme||{},window.Shopify.theme.sections=window.Shopify.theme.sections||{};var i=window.Shopify.theme.sections.registered=window.Shopify.theme.sections.registered||{},r=window.Shopify.theme.sections.instances=window.Shopify.theme.sections.instances||[];function c(t,o){if("string"!=typeof t)throw new TypeError("Theme Sections: The first argument for .register must be a string that specifies the type of the section being registered");if(void 0!==i[t])throw new Error('Theme Sections: A section of type "'+t+'" has already been registered. You cannot register the same section type twice');function n(t){e.call(this,t,o)}return n.constructor=e,n.prototype=Object.create(e.prototype),n.prototype.type=t,i[t]=n}function s(t,e){t=u(t),void 0===e&&(e=document.querySelectorAll("["+o+"]")),e=l(e),t.forEach((function(t){var n=i[t];void 0!==n&&(e=e.filter((function(e){return!(a(e).length>0||null===e.getAttribute(o)||e.getAttribute(o)===t&&(r.push(new n(e)),1))})))}))}function a(t){var e=[];if(NodeList.prototype.isPrototypeOf(t)||Array.isArray(t))var o=t[0];return t instanceof Element||o instanceof Element?l(t).forEach((function(t){e=e.concat(r.filter((function(e){return e.container===t})))})):"string"!=typeof t&&"string"!=typeof o||u(t).forEach((function(t){e=e.concat(r.filter((function(e){return e.type===t})))})),e}function d(t){for(var e,o=0;o<r.length;o++)if(r[o].id===t){e=r[o];break}return e}function u(t){return"*"===t?t=Object.keys(i):"string"==typeof t?t=[t]:t.constructor===e?t=[t.prototype.type]:Array.isArray(t)&&t[0].constructor===e&&(t=t.map((function(t){return t.prototype.type}))),t.map((function(t){return t.toLowerCase()}))}function l(t){return NodeList.prototype.isPrototypeOf(t)&&t.length>0?t=Array.prototype.slice.call(t):NodeList.prototype.isPrototypeOf(t)&&0===t.length||null===t?t=[]:!Array.isArray(t)&&t instanceof Element&&(t=[t]),t}window.Shopify.designMode&&(document.addEventListener("shopify:section:load",(function(t){var e=t.detail.sectionId,i=t.target.querySelector("["+n+'="'+e+'"]');null!==i&&s(i.getAttribute(o),i)})),document.addEventListener("shopify:section:unload",(function(t){var e=t.detail.sectionId,o=t.target.querySelector("["+n+'="'+e+'"]');"object"==typeof a(o)[0]&&a(o).forEach((function(t){var e=r.map((function(t){return t.id})).indexOf(t.id);r.splice(e,1),t.onUnload()}))})),document.addEventListener("shopify:section:select",(function(t){var e=d(t.detail.sectionId);"object"==typeof e&&e.onSelect(t)})),document.addEventListener("shopify:section:deselect",(function(t){var e=d(t.detail.sectionId);"object"==typeof e&&e.onDeselect(t)})),document.addEventListener("shopify:block:select",(function(t){var e=d(t.detail.sectionId);"object"==typeof e&&e.onBlockSelect(t)})),document.addEventListener("shopify:block:deselect",(function(t){var e=d(t.detail.sectionId);"object"==typeof e&&e.onBlockDeselect(t)})));class p{constructor(t){this.button=t,this.id=t.getAttribute("id").split("--").pop(),this.description=document.getElementById(`description--${this.id}`),this.button.addEventListener("click",this.toggle.bind(this))}expand(){this.button.setAttribute("aria-expanded","true"),this.description.removeAttribute("hidden")}collapse(){this.button.setAttribute("aria-expanded","false"),this.description.setAttribute("hidden","")}destroy(){this.button.removeEventListener("click",this.toggle.bind(this))}toggle(){"true"===this.button.getAttribute("aria-expanded")?this.collapse():this.expand()}}const h=document.querySelector(".product__form"),f=document.querySelector(".form__error");h.addEventListener("submit",(t=>{t.preventDefault(),fetch(t.target.action+".js",{method:t.target.method,body:new FormData(t.target),headers:{"X-Requested-With":"XMLHttpRequest"}}).then((t=>t.json())).then((t=>{if(!t.id){const e=`${t.message} (${t.status}): ${t.description}`;throw new Error(e)}{const e=new CustomEvent("cart:added",{detail:{updatedHeader:t.sections["alternate-header"]},bubles:!0});window.dispatchEvent(e)}})).catch((t=>{f.innerHTML=t}))})),c("alternate-main-product",{accordions:{},onLoad:function(){document.querySelectorAll(".accordion__button").forEach((t=>{this.accordions[new p(t).id]=new p(t)}))},onUnload:function(){for(const t of Object.values(this.accordions))t.destroy()},onSelect:function(){},onDeselect:function(){},onBlockSelect(t){const e=t.target.querySelector(".accordion__button").getAttribute("aria-controls").split("--").pop();this.accordions[e].toggle()},onBlockDeselect(t){const e=t.target.querySelector(".accordion__button").getAttribute("aria-controls").split("--").pop();this.accordions[e].toggle()}}),document.addEventListener("DOMContentLoaded",(()=>{document.querySelectorAll(".accordion__button").forEach((t=>{new p(t)}))})),c("alternate-header",{handleCartUpdate(t){const e=(new DOMParser).parseFromString(t.detail.updatedHeader,"text/html");let o=document.querySelector(".main-menu__counter"),n=e.querySelector(".main-menu__counter");const i=document.querySelector("span[aria-live=polite][role=status]"),r=n.textContent.match(/\d+/)[0];o.textContent=`Cart (${r})`,i.textContent=`Cart has ${r} item`},onLoad(){window.addEventListener("cart:added",this.handleCartUpdate)},onUnload(){window.removeEventListener("cart:added",this.handleCartUpdate)},onSelect(){},onDeselect(){},onBlockSelect(){},onBlockDeselect(){}}),document.addEventListener("DOMContentLoaded",(()=>s("*")))})()})();